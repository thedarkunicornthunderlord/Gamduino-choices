#include <SPI.h>
#include <GD.h>
#include "sprite.h"

/*******************************************************************************************************************************************************************************************
set up array and global variable
********************************************************************************************************************************************************************************************/

int truth = 1;
const int buttonPin = 3;     // the number of the pushbutton pin
const int buttonPin2 =  4;      // the number of the LED pin

int buttonState = 0;
int buttonState2 = 0;
static unsigned int t; // 
// variables for reading the pushbutton status


/************************************************************************************************************************************************************************************************

 initializations and readying gameduino
 
************************************************************************************************************************************************************************************************/
void setup ()
{
  delay(250); //suggested to help boot up the gameduino
  GD.begin();
  GD.ascii();
  GD.copy(RAM_SPRPAL, sprite_sprpal, sizeof(sprite_sprpal));//ready up the foreground sprites
  GD.copy(RAM_SPRIMG, sprite_sprimg, sizeof(sprite_sprimg));
  pinMode(buttonPin2, INPUT);      //set up controller buttons to be pressed
  pinMode(buttonPin, INPUT);  
  Serial.begin(9600); //usefull for debugging
  }
void loop () 
{
 GD.waitvblank();
  int left  = 0;
  int right = 0;
  buttonState = digitalRead(buttonPin);
  buttonState2 = digitalRead(buttonPin2);
 GD.__wstartspr(0); // start up the sprites

  if (buttonState == HIGH){
    left = 0;
    right = 1;  
  }
  if  (buttonState2 == HIGH) {
    left = 1;
    right = 0;
  }
  delay(250);
  GD.putstr(25, 25, "    ");
 
 switch (truth) { //set up to control the various different speech variables, there is a lot
    case 1:
      op1(left,right);
      break;
    case 2:
      op2(left,right);
      break;
    case 3:
      op3(left,right);
      break;
    case 4:
      op4(left,right);
      break;
    case 5:
      op5(left,right);
      break;
    case 6:
      op6(left,right);
      break;
    case 7:
      op7(left,right);
      break;
    case 8:
      op8(left,right);
      break;
    case 9:
      op9(left,right);
      break;
    case 10:
      op10(left,right);
       break;
    case 11:
      op11(left,right);
       break;
    case 12:
      op12(left,right);
       break;
    case 13:
      op13(left,right);
       break;
    case 14:
      op14(left,right);
       break;
    case 15:
      op15(left,right);
       break;
    case 16:
      op16(left,right);
       break;
    case 17:
      op17(left,right);
       break;
    case 18:
      op18(left,right);
       break;
    case 19:
      op19(left,right);
       break;
    case 20:
      op20(left,right);
       break;
    case 21:
      op21(left,right);
       break;
    case 22:
      op22(left,right);
       break;
    case 23:
      op23(left,right);
       break;
   //case 24:
    // op24(left,right);
     // break;
    case 25:
      op25(left,right);
       break;
    case 26:
      op26(left,right);
       break;
    case 27:
      op27(left,right);
       break;
    case 28:
      op28(left,right);
       break;
    case 29:
      op29(left,right);
       break;
    case 30:
      op30(left,right);
       break;
    case 31:
      op31(left,right);
       break;
    case 32:
      op32(left,right);
       break; 

}  
              draw_sprite(25,10 , 50+((t/32)%2), 0);
              GD.__end();
              t++;// that lone timer
  
} 
/********************************************************************************************************************************************************************************************
 the dialog and action functions 
 
 int marker = 0;
   if (marker == 0) {
   
  marker =1; }
     else {
     }
***********************************************************************************************************************************************************************************************/
 
  int op1 (int x, int y){
    static int marker = 0;
    if (marker == 0) {
    GD.putstr (15, 22, "Welcome, I'm Glad your here!");
    delay(2000);
    GD.putstr (9, 22, "                                                                      ");
    GD.putstr (9, 22, "Just simply hit right to make me happy ");
    delay (2000);
    GD.putstr (9, 22, "                                                                      ");
    delay(2000);
    GD.putstr (15, 22, "Go ahead , give it a shot");
    marker = 1;
    }
      else {
        GD.putstr (15, 22, "Go ahead , give it a shot");
      }
    
    if (x == 1) {
    truth = 8;
  }
    else if (y == 1){
    truth = 2;
    }
  }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op2 (int x, int y){
     static int marker2 = 0;
   if (marker2 == 0) {
     GD.putstr (9, 22, "                                                              ");
     GD.putstr (17, 22, "Yup, Just like that!");
     GD.putstr (17, 22, "                      ");
     GD.putstr (17, 22, " It is simple as that");
     delay(2000);
        marker2 =1; }
     else {
     GD.putstr (17, 22, " It is simple as that");
     }
    
        if (x == 1) {
    truth = 25;
    delay(250);
  }
    if (y == 1){
    truth = 3;
    delay(250);
    }
    
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op3 (int x, int y){
    static int marker3 = 0;
   if (marker3 == 0) {
    GD.putstr (13, 22, "                                                                                          ");
    GD.putstr (17, 22, "Keep going friend!");
    delay(250);
        marker3 =1; }
     else {
       GD.putstr (17, 22, "Keep going friend!");
     }
    
        if (x ==1 ) {
    truth = 25;
  }
    if (y == 1){
    truth = 4;
    }
  
  }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  
  int op4 (int x, int y){
     static int marker4 = 0;
   if (marker4 == 0) {
         GD.putstr (9, 22, "                                                                           ");
    GD.putstr (17, 22, "Your doing just Great");
    delay(250);
   
  marker4 =1; }
     else {
       GD.putstr (17, 22, "Your doing just Great");
           }
    

        if (x == 1) {
    truth = 25 ;
  }
    if (y == 1){
    truth = 5;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  
  int op5 (int x, int y){
    static int marker5 = 0;
   if (marker5 == 0) {
         GD.putstr (9, 22, "                                                                                          ");
    GD.putstr (9, 22, "My happyness just keeps increasing");
    GD.putstr (9, 22, "                                  ");
    GD.putstr (9, 22, "this is great!");
    delay(250);
   
  marker5 =1; }
     else {
        GD.putstr (9, 22, "this is great!");
     }

        if (x == 1) {
    truth = 25;
  }
    if (y == 1){
    truth = 6;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op6 (int x, int y){
     static int marker6 = 0;
   if (marker6 == 0) {
         GD.putstr (9, 22, "                                                                                                         ");
    GD.putstr (8, 22, "Im almost completely filled with happiness!!!");
    delay(250);
   
  marker6 = 1; }
     else {
       GD.putstr (8, 22, "Im almost completely filled with happiness!!!");
     }

        if (x == 1) {
    truth = 8 ;
  }
    if (y == 1){
    truth = 7;
    }
  }
  
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op7 (int x, int y){
     static int marker7 = 0;
   if (marker7 == 0) {
    GD.putstr (7, 22, "                                                          ");
    GD.putstr (17, 22, "Congradulations, you Did it!");
    delay (2000);
    GD.putstr (7, 22, "                                                     ");
    GD.putstr (17, 22, "You won!");
    delay (2000);
    GD.putstr (7, 22, "                                                     ");
    GD.putstr (17, 22, "I am so happy");
    delay(2000);
    GD.putstr (7, 22, "                                                     ");
    GD.putstr (17, 22, "                                                     ");
    GD.putstr (3, 22, "I am so glad you did not do anything");
    delay (2000);
    GD.putstr (3, 22, "                                                     ");
    GD.putstr (17, 22, " hasty like hit left");
    delay(2000);
    GD.putstr (17, 22, "                                                        ");
    GD.putstr (17, 22, " THE END!!!!!");
   
  marker7 =1; }
     else {
           GD.putstr (17, 22, " THE END!!!!!");
     }

      //end string here
  }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op8 (int x, int y){
     static int marker8 = 0;
   if (marker8 == 0) {
         GD.putstr (9, 22, "                                                                       ");
    GD.putstr (15, 22, "Ha... Im sure that was a mistake");
   
  marker8 =1; }
     else {
           GD.putstr (15, 22, "Ha... Im sure that was a mistake");
     }

        if (x == 1) {
    truth = 9;
  }
    if (y == 1){
    truth = 21 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op9 (int x, int y){
     static int marker9 = 0;
   if (marker9 == 0) {
         GD.putstr (9, 22, "                                                         ");
    GD.putstr (17, 22, "This is not funny, please stop");
   
  marker9 =1; }
     else {
           GD.putstr (17, 22, "This is not funny, please stop");
     }

        if (x == 1) {
    truth = 10 ;
  }
    if (y == 1){
    truth = 26 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op10 (int x, int y){
    static int marker10 = 0;
   if (marker10 == 0) {
         GD.putstr (9, 22, "                                                               ");
    GD.putstr (17, 22, "Do, you hate me?");
   
  marker10 =1; }
     else {
           GD.putstr (17, 22, "Do, you hate me?");
     }

        if (x == 1) {
    truth = 11 ;
  }
    if (y == 1){
    truth = 15 ;
    }
  }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op11 (int x, int y){
     static int marker11 = 0;
   if (marker11 == 0) {
         GD.putstr (9, 22, "                                                          ");
    GD.putstr (15, 22, "I will remember this, I do not forget");
   
  marker11 = 1; }
     else {
           GD.putstr (15, 22, "I will remember this, I do not forget");
     }
        if (x == 1) {
    truth = 12 ;
  }
    if (y == 1){
    truth = 14 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op12 (int x, int y){
     static int marker12 = 0;
   if (marker12 == 0) {
         GD.putstr (9, 22, "                                                          ");
    GD.putstr (10, 22, "You obviosly hate me...what did i do");
    delay(250);
   
  marker12 =1; }
     else {
         GD.putstr (10, 22, "You obviosly hate me...what did i do");
     }

        if (x == 1) {
    truth = 13;
  }
    if (y == 1){
    truth = 14 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op13 (int x, int y){
     static int marker13 = 0;
   if (marker13 == 0) {
    GD.putstr (9, 22, "                                                                                 ");
    GD.putstr (10, 22, "You know what, I'm Done I am just Done.");
    delay (2000);
    GD.putstr (9, 22, "                                                                                   ");
    GD.putstr (17, 22, "you are a cruel person");
    delay(2000);
    GD.putstr (9, 22, "                                                                                         ");
    GD.putstr (11, 22, "I will remember, I see you playing."); 
    delay(2000);
    GD.putstr (9, 22, "                                                                                       ");
    GD.putstr (12, 22, "You had your chance at happiness");
    delay(2000);
    GD.putstr (9, 22, "                                                                                                     ");
    delay(2000);
    GD.putstr (17, 22, "I'M NOT GOING ANYWHERE");
    delay(2000);
   
  marker13 =1; }
     else {
           GD.putstr (9, 22, "                                                                                             ");
    delay(2000);
    GD.putstr (17, 22, "I'M NOT GOING ANYWHERE");
     }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op14 (int x, int y){
     static int marker14 = 0;
   if (marker14 == 0) {
         GD.putstr (9, 22, "                                                                     ");
    GD.putstr (17, 22, "No, I don't believe you");
   
  marker14 =1; }
     else {
           GD.putstr (17, 22, "No, I don't believe you");
     }

        if (x == 1) {
    truth = 10;
  }
    if (y == 1){
    truth = 15;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op15 (int x, int y){
     static int marker15 = 0;
   if (marker15 == 0) {
         GD.putstr (9, 22, "                                                                                                ");
    GD.putstr (17, 22, "You are just trying to make what you did disappear");
   
  marker15 =1; }
     else {
           GD.putstr (17, 22, "You are just trying to make what you did disappear");
     }


        if (x == 1) {
    truth = 17;
  }
    if (y == 1){
    truth = 16;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op16 (int x, int y){
     static int marker16 = 0;
   if (marker16 == 0) {
         GD.putstr (9, 25, "                                                                                  ");
    GD.putstr (17, 25, "NO!");
   
  marker16 =1; }
     else {
           GD.putstr (17, 25, "NO!");
     }

        if (x == 1) {
    truth = 17;
  }
    if (y == 1){
    truth = 19 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op17 (int x, int y){
     static int marker17 = 0;
   if (marker17 == 0) {
           GD.putstr (9, 22, "                                                                                                     ");
      GD.putstr (10, 22, "See, I knew you would go back to your old ways");
   
  marker17 =1; }
     else {
             GD.putstr (10, 22, "See, I knew you would go back to your old ways");
     }


          if (x == 1) {
    truth = 18;
  }
    if (y == 1){
    truth = 18;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op18 (int x, int y){
     static int marker18 = 0;
   if (marker18 == 0) {      
      GD.putstr (9, 22, "                                                                          ");
      GD.putstr (17, 22, "I don't care. You lose");
   
  marker18 =1; }
     else {
             GD.putstr (17, 22, "I don't care. You lose");
     }
     
    if (x == 1) {
             GD.putstr (17, 22, "                      ");
             GD.putstr (17, 22, "I don't care. You lose");
  }
    if (y == 1){
        GD.putstr (9, 22, "                      ");
        GD.putstr (17, 22, "I don't care. You lose");
    }
    }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op19 (int x, int y){
     static int marker19 = 0;
   if (marker19 == 0) {
             GD.putstr (9, 22, "                                                                                        ");
        GD.putstr (12, 22, "Maybe you have seen the error of your ways...");
   
  marker19 =1; }
     else {
               GD.putstr (12, 22, "Maybe you have seen the error of your ways...");
     }

            if (x == 1) {
    truth = 17;
  }
    if (y == 1){
    truth = 20 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op20 (int x, int y){
     static int marker20 = 0;
   if (marker20 == 0) {
           GD.putstr (9, 22, "                                                                                             ");
      GD.putstr (10, 22, "I think you may have changed, this..this is good ");
   
  marker20 =1; }
     else {
             GD.putstr (10, 22, "I think you may have changed, this..this is good ");
     }

          if (x == 1) {
    truth = 17;
  }
    if (y == 1 ){
    truth = 21;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op21 (int x, int y){
     static int marker21 = 0;
   if (marker21 == 0) {
           GD.putstr (9, 22, "                                                                       ");
      GD.putstr (15, 22, "That was close,i thought you were");
      GD.putstr (9, 22, "                                                                                                                 ");
     GD.putstr (15, 22, " going to do something we would both regret");
   
  marker21 =1; }
     else {
             GD.putstr (15, 22, " going to do something we would both regret");
     }

          if (x == 1) {
    truth = 22 ;
  }
    if (y == 1){
    truth = 2;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op22 (int x, int y){
     static int marker22 = 0;
   if (marker22 == 0) {
           GD.putstr (9, 22, "                                                                                              ");
      GD.putstr (14, 22, "Or you could be one of THOSE people...");
   
  marker22 =1; }
     else {
             GD.putstr (14, 22, "Or you could be one of THOSE people...");
     }

          if (x == 1) {
    truth = 10 ;
  }
    if (y == 1){
    truth = 25;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op23 (int x, int y){
     static int marker23 = 0;
   if (marker23 == 0) {
   
  marker23 =1; }
     else {
     }
      GD.putstr (9, 22, "                                                                              ");
      GD.putstr (17, 22, "");//this is the big one
          if (x == 1) {
  }
    if (y == 1){
    }
  }
  /**************
  24 was here
  ***************/
  
  int op25 (int x, int y){
     static int marker25 = 0;
   if (marker25 == 0) {     
     GD.putstr (8, 22, "                                                                          ");
      GD.putstr (12, 22, "I hope you only did that out of curiosity...");
   
  marker25 =1; }
     else {
             GD.putstr (12, 22, "I hope you only did that out of curiosity...");
     }

          if (x == 1) {
    truth = 27;
  }
    if (y == 1){
    truth = 26 ;
    }
  }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op26 (int x, int y){
     static int marker26 = 0;
   if (marker26 == 0) {  
     GD.putstr (9, 22, "                                                                                       ");
      GD.putstr (17, 22, "Excellent, back on track!");
   
  marker26 =1; }
     else {
             GD.putstr (17, 22, "Excellent, back on track!");
     }

          if (x == 1) {
    truth = 22 ;
  }
    if (y == 1){
    truth = 8 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op27 (int x, int y){ 
    static int marker27 = 0;
   if (marker27 == 0) {
           GD.putstr (9, 22, "                                                          ");
      GD.putstr (17, 22, "Please don't...");
   
  marker27 =1; }
     else {
             GD.putstr (17, 22, "Please don't...");
     }

          if (x == 1) {
    truth = 28 ;
  }
    if (y == 1){
    truth = 26;
    }
    }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op28 (int x, int y){
     static int marker28 = 0;
   if (marker28 == 0) {
           GD.putstr (9, 22, "                                                          ");
      GD.putstr (17, 22, "Stop, Please...please");
   
  marker28 =1; }
     else {
           GD.putstr (17, 22, "Stop, Please...please");
     }

          if (x == 1) {
    truth = 29 ;
  }
    if (y == 1){
    truth = 30 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op29 (int x, int y){
     static int marker29 = 0;
   if (marker29 == 0) {
           GD.putstr (9, 22, "                                                                          ");
      GD.putstr (17, 22, "NO, NO, No, NO, no...no....no...");
      delay(2000);
      GD.putstr (9, 22, "                                                                              ");
      GD.putstr (17, 22, "This cant be happening");
   
  marker29 =1; }
     else {
           GD.putstr (17, 22, "This cant be happening");
     }


          if (x == 1) {
    truth = 10 ;
  }
    if (y == 1){
    truth = 10 ;
    }
  }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op30 (int x, int y){
     static int marker30 = 0;
   if (marker30 == 0) {
           GD.putstr (9, 22, "                                                          ");
      GD.putstr (17, 22, "Did you listen ?");
   
  marker30 =1; }
     else {
             GD.putstr (17, 22, "Did you listen ?");
     }

          if (x == 1) {
    truth = 17 ;
  }
    if (y == 1){
    truth = 31 ;
    }
    }
 /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op31 (int x, int y){
     static int marker31 = 0;
           if (marker31 == 0) {
             GD.putstr (9, 22, "                                                          ");
             GD.putstr (17, 22, "You did!");
   
  marker31 =1; }
     else {
             GD.putstr (17, 22, "You did!");
           }
      
          if (x == 1) {
              truth = 17;
                      }
          if (y == 1){
              truth = 32;
                      }
                      }
  /*********************************************************************************************************************************************************************************
  
  *********************************************************************************************************************************************************************************/
  int op32 (int x, int y){
      static int marker32 = 0;
         if (marker32 == 0) {
             GD.putstr (9, 22, "                                                          ");
             GD.putstr (17, 22, "You did not do a bad!");
             marker32 =1; }
         else {
             GD.putstr (17, 22, "You did not do a bad!");
               }
          if (x == 1) {
              truth = 10;
                        }
          if (y == 1){
               truth = 3;
                      }
  }
  
   

